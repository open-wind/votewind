import{a as t}from"./chunk-XTBKSAXL.js";import{a as e}from"./chunk-VKBMYYL4.js";import{a as i,b as o}from"./chunk-I4JBCTLR.js";import{a as r}from"./chunk-MCEXFPZL.js";import{e as n}from"./chunk-OVZZEY7C.js";var s={},a=new o,h=new o,l=[,,],g=[,,],u={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};s.computePositions=function(s,p,m,c,f,d){let A=function(t,s,l,g){let u=(s=e(s,i.equalsEpsilon)).length;if(u<2)return;let p=n(g),m=n(l),c=Array(u),f=Array(u),d=Array(u),A=s[0];c[0]=A;let y=t.cartesianToCartographic(A,a);m&&(y.height=l[0]),f[0]=y.height,p?d[0]=g[0]:d[0]=0;let E=f[0]===d[0],L=1;for(let e=1;e<u;++e){let i=s[e],n=t.cartesianToCartographic(i,h);m&&(n.height=l[e]),E=E&&0===n.height,r.equalsEpsilon(y.latitude,n.latitude,r.EPSILON10)&&r.equalsEpsilon(y.longitude,n.longitude,r.EPSILON10)?y.height<n.height&&(f[L-1]=n.height):(c[L]=i,f[L]=n.height,p?d[L]=g[e]:d[L]=0,E=E&&f[L]===d[L],o.clone(n,y),++L)}if(!(E||L<2))return c.length=L,f.length=L,d.length=L,{positions:c,topHeights:f,bottomHeights:d}}(s,p,m,c);if(!n(A))return;p=A.positions,m=A.topHeights,c=A.bottomHeights;let y=p.length,E,L,P=r.chordLength(f,s.maximumRadius);if(u.minDistance=P,u.ellipsoid=s,d){let e=0,i;for(i=0;i<y-1;i++)e+=t.numberOfPoints(p[i],p[i+1],P)+1;E=new Float64Array(3*e),L=new Float64Array(3*e),u.positions=l,u.height=g;let o=0;for(i=0;i<y-1;i++){l[0]=p[i],l[1]=p[i+1],g[0]=m[i],g[1]=m[i+1];let e=t.generateArc(u);E.set(e,o),g[0]=c[i],g[1]=c[i+1],L.set(t.generateArc(u),o),o+=e.length}}else u.positions=p,u.height=m,E=new Float64Array(t.generateArc(u)),u.height=c,L=new Float64Array(t.generateArc(u));return{bottomPositions:L,topPositions:E,numCorners:y-2}};var p=s;export{p as a};