"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[760],{81507:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(95155);function l(){return(0,a.jsx)("div",{children:(0,a.jsx)("div",{children:"404 - Page Not Found"})})}},19725:(e,t,s)=>{s.d(t,{A:()=>w});var a=s(95155),l=s(12115),n=s(81448),r=s(25683),i=s(68637),o=s(49379),c=s(23772);function d(){let[e,t]=(0,l.useState)(""),[s,d]=(0,l.useState)(!0),m=(0,l.useRef)(null);return(0,l.useLayoutEffect)(()=>{var e;null===(e=m.current)||void 0===e||e.setFocus()},[]),(0,l.useEffect)(()=>{""==e?d(!0):d(!1)},[e]),(0,a.jsx)("div",{className:"mx-auto mt-0",children:(0,a.jsxs)("div",{className:"w-full h-screen bg-cover bg-center",style:{backgroundImage:"url('".concat("/static-frontend","/images/sunrise-3579931_1920.jpg')")},children:[(0,a.jsxs)("div",{className:"fixed top-1/3 -translate-y-1/2 left-0 text-center w-full items-center",children:[(0,a.jsx)("header",{className:"relative w-full sm:mt-0 text-center py-3",children:(0,a.jsx)("h1",{className:"text-center text-6xl sm:text-[70px] font-thin text-gray-900 mb-2 sm:mb-10",style:{textShadow:"0 0px 30px rgba(255,255,255,.25)"},children:(0,a.jsx)("span",{className:"text-black tracking-wide pr-[1px]",children:"VoteWind!"})})}),(0,a.jsxs)("div",{className:"mx-auto w-full max-w-[640px]",children:[(0,a.jsx)("p",{className:"font-light text-zinc-600 pl-10 pr-10 mb-5 text-xl sm:text-2xl text-center leading-tight",children:"Vote for where you'd like a community wind turbine."}),(0,a.jsx)("p",{className:"font-light text-zinc-600 pl-5 pr-5 mb-5 text-medium sm:text-xl text-center leading-tight",children:"Community wind projects generate cash for communities, reduce the need for grid upgrades and help tackle climate change..."})]})]}),(0,a.jsx)("div",{className:"fixed top-2/3 -translate-y-1/2 w-full pl-5 pr-5 pt-10 flex justify-center z-50",children:(0,a.jsxs)("div",{className:"relative w-full max-w-[400px]",children:[(0,a.jsx)(o.A,{ref:m,query:e,setQuery:t,useLocate:!1}),(0,a.jsx)(r.N,{mode:"wait",children:s?(0,a.jsxs)(i.P.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.handleUseMyLocation()},className:"absolute top-full mt-[0.7rem] left-0 w-full bg-blue-600 text-white text-lg px-4 py-2 rounded-md hover:bg-blue-700 z-40 inline-flex items-center justify-center gap-2",children:[(0,a.jsx)(n.A,{className:"w-6 h-6 animate-pulse "}),"Use my location"]},"userlocation"):(0,a.jsx)(i.P.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.handleSubmit()},className:"absolute top-full mt-[0.7rem] left-0 w-full bg-blue-600 text-white text-lg px-4 py-2 rounded-md hover:bg-blue-700 z-40 inline-flex items-center justify-center gap-2",children:"Go to location"},"inputlocation")})]})}),(0,a.jsx)(c.A,{})]})})}var m=s(76046),u=s(88060),x=s.n(u),h=s(78851),p=s(90019),f=s(42128);s(66467);var g=s(51719),b=s(46967);function y(e){let{map:t}=e,[s,n]=(0,l.useState)([]),r=(0,f.a)(),[i,o]=(0,l.useState)(!r),c=["darkgrey","purple","darkgreen","blue","darkgoldenrod","chartreuse","red","darkorange"];(0,l.useEffect)(()=>{if(!t)return;let e=t.getStyle().layers.filter(e=>e.source&&e.id.startsWith("latest--")).map(e=>{let s=t.getPaintProperty(e.id,"fill-color")||"#999",a="none"!==t.getLayoutProperty(e.id,"visibility");return{id:e.id,color:s,visible:a}}),s={};for(let t of e)s[t.color]||(s[t.color]=[]),s[t.color].push(t);let a=Object.entries(s).map(e=>{let[t,s]=e;return{color:t,layers:[...s].sort((e,t)=>e.visible===t.visible?0:e.visible?-1:1)}});a.sort((e,t)=>{let s=c.indexOf(e.color),a=c.indexOf(t.color);return -1===s&&-1===a?e.color.localeCompare(t.color):-1===s?1:-1===a?-1:s-a}),n(a)},[t]);let d=e=>{let s="none"!==t.getLayoutProperty(e,"visibility");t.setLayoutProperty(e,"visibility",s?"none":"visible"),n(t=>t.map(t=>({...t,layers:t.layers.map(t=>t.id===e?{...t,visible:!s}:t)})))};return(0,a.jsxs)("div",{className:"absolute w-[200px] sm:w-64 overflow-y-auto top-16 left-4 sm:top-16 z-40 bg-white/90 rounded-lg shadow-md p-2 sm:p-3 max-h-[calc(100vh-10rem)] sm:max-h-[calc(100vh-6rem)] mb-1 max-w-xs text-xs leading-none space-y-3",children:[(0,a.jsxs)("div",{onClick:()=>o(e=>!e),className:"flex items-center justify-between mb-0 cursor-pointer",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold",children:"Wind Constraints"}),(0,a.jsx)("button",{className:"text-black hover:bg-gray-200 rounded-full p-0","aria-label":"Toggle layer panel",children:i?(0,a.jsx)(g.A,{size:16}):(0,a.jsx)(b.A,{size:16})})]}),i&&(0,a.jsx)(a.Fragment,{children:s.map(e=>(0,a.jsx)("div",{children:e.layers.map((t,s)=>{let l=t.id.replace(/^latest--/,"").replaceAll("separation-distance-from-residential","residential-separation").replaceAll("windconstraints","all-wind-constraints").replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase());return(0,a.jsxs)("label",{className:"cursor-pointer flex items-center gap-1 mb-1 ".concat(0===s?"font-semibold":""),children:[(0,a.jsx)("input",{type:"checkbox",checked:t.visible,onChange:()=>d(t.id),className:"mr-1"}),(0,a.jsx)("span",{className:"text-[0.7em] sm:text-[0.7rem] font-condensed truncate overflow-hidden text-ellipsis whitespace-nowrap",children:l}),(0,a.jsx)("span",{className:"inline-block pl-3 w-3 h-3 rounded-full ml-auto",style:{backgroundColor:t.color,opacity:e.layers.length>1&&0!==s?.6:1}})]},t.id)})},e.color))})]})}var j=s(75134);function v(e){let{subdomain:t=null,data:s=null}=e,n=(0,l.useRef)(),r=(0,f.a)(),[i,o]=(0,l.useState)(null),[c,d]=(0,l.useState)(!1),u=(0,m.useSearchParams)(),g={top:100,bottom:100,left:r?10:300,right:10},b=(0,l.useMemo)(()=>{let e=u.get("longitude");return e?parseFloat(e):null},[u]),v=(0,l.useMemo)(()=>{let e=u.get("latitude");return e?parseFloat(e):null},[u]);return(0,l.useEffect)(()=>{if(!i||"function"!=typeof i.setMaxBounds)return;let e=s.features[0].properties.bounds;i.fitBounds(e,{padding:g,duration:0,linear:!0}),requestAnimationFrame(()=>{let e=i.getBounds();i.setMaxBounds(e)})},[i]),(0,a.jsxs)("main",{className:"flex justify-center items-center w-screen h-screen",children:[!c&&(0,a.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-700"})}),(0,a.jsxs)(h.Ay,{ref:n,mapLib:x(),dragRotate:!1,touchRotate:!1,pitchWithRotate:!1,touchZoomRotate:!1,mapStyle:"https://tiles.wewantwind.org/styles/openwind/style.json",onLoad:()=>{var e;console.log(s);let t=null===(e=n.current)||void 0===e?void 0:e.getMap();t&&(o(t),!t.getSource("mask"))&&(t.addSource("osm-boundaries-overlays",{type:"vector",url:"http://localhost:8080/data/osm-boundaries-overlays.json"}),t.addSource("mask",{type:"geojson",data:s}),t.addLayer({id:"osm-boundaries-overlays",type:"fill",source:"osm-boundaries-overlays","source-layer":"osm-boundaries-overlays",paint:{"fill-color":"#f0f0f0","fill-opacity":1,"fill-outline-color":"#000000"},filter:["==",["get","slug"],s.features[0].properties.slug]}),t.addSource("frame-mask",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[-180,-90],[180,-90],[180,90],[-180,90],[-180,-90]],[[-9.95,48.95],[2.95,48.95],[2.95,61.75],[-9.95,61.75],[-9.95,48.95]]]}}]}}),t.addLayer({id:"frame-mask-fill",type:"fill",source:"frame-mask",paint:{"fill-color":"#f0f0f0","fill-opacity":1}}),t.on("idle",()=>{t.getLayer("frame-mask-fill")&&d(!0)}))},style:{width:"100%",height:"100%"},attributionControl:!1,children:[(0,a.jsx)(h.z0,{compact:!0,position:"bottom-right",style:{right:r?4:20}}),i&&(0,a.jsx)(y,{map:i}),null!==b&&null!==v&&(0,a.jsx)(h.pH,{title:"Click to cast vote for this position",longitude:b.toFixed(5),latitude:v.toFixed(5),draggable:!1,anchor:"bottom",offset:[0,0],children:(0,a.jsx)(p.Bc,{children:(0,a.jsxs)(p.m_,{children:[(0,a.jsx)(p.k$,{asChild:!0,children:(0,a.jsx)("a",{href:"".concat(j.ar,"/").concat(b.toFixed(5),"/").concat(v.toFixed(5),"/15?selectturbine=true"),children:(0,a.jsx)("img",{alt:"Wind turbine",width:"80",height:"80",src:"".concat("/static-frontend","/icons/windturbine_blue.png")})})}),(0,a.jsx)(p.ZI,{side:"right",sideOffset:10,className:"bg-white text-black text-xs border shadow px-3 py-1 rounded-md hidden sm:block",children:"Click to vote for turbine"})]})})})]}),s&&(0,a.jsxs)("div",{className:"absolute bottom-20 sm:bottom-14 left-1/2 transform -translate-x-1/2 z-50 bg-gray-300 text-black text-sm px-4 py-1 rounded-full shadow-2xl pointer-events-none",style:{boxShadow:"0 0px 15px rgba(255, 255, 255, 0.9)"},children:[!c&&(0,a.jsx)("span",{children:"Loading... "})," ",(0,a.jsx)("span",{className:"font-bold",children:s.features[0].properties.boundary})]})]})}function w(){let[e,t]=(0,l.useState)(!1),[s,n]=(0,l.useState)(null),[r,i]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=o();if(null===e){t(!0);return}fetch(j.JR+"/api/boundary?query=".concat(e)).then(e=>e.json()).then(s=>{n(s),i(e),t(!0)}).catch(e=>{t(!0)})},[]);let o=()=>{let e=window.location.hostname.split(".");return e.length>2?e[0]:null};return e&&(null!==r?(0,a.jsx)(v,{subdomain:r,data:s}):(0,a.jsx)(d,{}))}},19880:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(95155),l=s(43812);function n(e){let{longitude:t=null,latitude:s=null}=e;return(0,a.jsx)("div",{children:(0,a.jsx)(l.A,{longitude:t,latitude:s})})}},38598:(e,t,s)=>{s.d(t,{A:()=>A});var a=s(95155),l=s(76046),n=s(12115),r=s(5565);s(55037);var i=s(88060),o=s.n(i),c=s(78851),d=s(47820),m=s(90019),u=s(77849);let x=n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,u.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...l})});x.displayName="Card",n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,u.cn)("flex flex-col space-y-1.5 p-6",s),...l})}).displayName="CardHeader",n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,u.cn)("font-semibold leading-none tracking-tight",s),...l})}).displayName="CardTitle",n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,u.cn)("text-sm text-muted-foreground",s),...l})}).displayName="CardDescription";let h=n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,u.cn)("p-6 pt-0",s),...l})});h.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,u.cn)("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter";var p=s(47370),f=s(79967),g=s(92888);function b(e){let{title:t="",showstrap:s=!0}=e,r=(0,l.usePathname)(),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1);(0,n.useEffect)(()=>{"undefined"!=typeof navigator&&navigator.share&&d(!0)},[]);let m=(0,n.useMemo)(()=>window.location.origin+r,[r]),u=e=>encodeURIComponent(null!=e?e:""),x=e=>e&&window.open(e,"_blank","noopener,noreferrer,width=600,height=600"),h={x:"https://twitter.com/intent/tweet?url=".concat(u(m),"&text=").concat(u(t)),facebook:"https://www.facebook.com/sharer/sharer.php?u=".concat(u(m)),linkedin:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(u(m)),whatsapp:"https://wa.me/?text=".concat(u(t+" "+m)),messenger:"https://www.facebook.com/dialog/send?link=".concat(u(m),"&app_id=28164212029"),reddit:"https://www.reddit.com/submit?url=".concat(u(m),"&title=").concat(u(t)),pinterest:"https://pinterest.com/pin/create/button/?url=".concat(u(m),"&description=").concat(u(t))},b=async()=>{if(m)try{await navigator.clipboard.writeText(m),o(!0),setTimeout(()=>o(!1),2500)}catch(e){console.error("Copy failed",e)}},y="h-7 w-7 sm:h-10 sm:w-10",j="w-4 h-4 sm:w-5 sm:h-5";return(0,a.jsxs)("div",{className:"rounded-lg p-0",children:[s&&(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"Share on social media"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 justify-center sm:justify-start",children:[(0,a.jsx)(p.$,{variant:"outline",size:"icon","aria-label":"Share on X",onClick:()=>x(h.x),className:y,children:(0,a.jsx)(f.vIh,{className:j})}),(0,a.jsx)(p.$,{variant:"outline",size:"icon","aria-label":"Share on Facebook",onClick:()=>x(h.facebook),className:y,children:(0,a.jsx)(f.toy,{className:j})}),(0,a.jsx)(p.$,{variant:"outline",size:"icon","aria-label":"Share on LinkedIn",onClick:()=>x(h.linkedin),className:y,children:(0,a.jsx)(f.d58,{className:j})}),(0,a.jsx)(p.$,{variant:"outline",size:"icon","aria-label":"Share on WhatsApp",onClick:()=>x(h.whatsapp),className:y,children:(0,a.jsx)(f.XuI,{className:j})}),(0,a.jsx)(p.$,{variant:"outline",size:"icon","aria-label":"Share on Messenger",onClick:()=>x(h.messenger),className:y,children:(0,a.jsx)(f.BWd,{className:j})}),(0,a.jsx)(p.$,{variant:"outline",size:"icon","aria-label":"Share on Reddit",onClick:()=>x(h.reddit),className:y,children:(0,a.jsx)(f.JaC,{className:j})}),(0,a.jsx)(p.$,{variant:"outline",size:"icon","aria-label":"Share on Pinterest",onClick:()=>x(h.pinterest),className:y,children:(0,a.jsx)(f.f7_,{className:j})}),c?(0,a.jsx)(p.$,{variant:"outline",size:"icon","aria-label":"Share via native sheet",onClick:()=>navigator.share({title:t,url:m}),className:y,children:(0,a.jsx)(g.pdY,{className:j})}):(0,a.jsx)(p.$,{variant:"outline",size:"icon","aria-label":i?"Link copied!":"Copy link",onClick:b,className:y,children:i?(0,a.jsx)("span",{className:"text-xs font-semibold",children:"✓"}):(0,a.jsx)(g.nxz,{className:j})})]})]})}function y(e){let{content:t=""}=e;return(0,a.jsx)("div",{className:"inline-flex items-center justify-center sm:bottom-2 sm:right-12 h-8 w-8 sm:w-10 sm:h-10 mr-4 px-2 min-w-[1.25rem] bg-gray-300 border-0 border-white text-black text-md sm:text-xl font-medium sm:font-extrabold rounded-full shadow-lg",children:t})}function j(e){let{targetRef:t,scrollBy:s}=e,[l,r]=(0,n.useState)(!1),i=(0,n.useRef)(null);return((0,n.useEffect)(()=>{t||(i.current=document.scrollingElement||document.documentElement);let e=(null==t?void 0:t.current)||i.current;if(!e)return;let s=()=>{r(!(e.scrollTop+e.clientHeight>=e.scrollHeight-2))};s();let a=t?e:window;return a.addEventListener("scroll",s,{passive:!0}),window.addEventListener("resize",s),()=>{a.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[t]),l)?(0,a.jsx)("div",{className:" sm:hidden fixed bottom-4 inset-x-0   /* left:0; right:0; bottom:1rem */ flex justify-center        /* centre children horizontally */ pointer-events-none        /* let clicks fall through except on the button */ z-50 ",children:(0,a.jsx)("button",{"aria-label":"Scroll down",onClick:()=>{let e=(null==t?void 0:t.current)||document.scrollingElement||document.documentElement,a=null!=s?s:.8*window.innerHeight;e.scrollBy({top:a,behavior:"smooth"})},className:" pointer-events-auto      /* this button is interactive again */ text-gray-500 animate-bounce ",children:(0,a.jsx)(g.fK4,{className:"w-8 h-8"})})}):null}var v=s(43371),w=s(75134);s(66467);let N=s(86979),k="/static-frontend";function C(e){let{longitude:t=null,latitude:s=null,type:i="",emailused:u=""}=e,f=(0,l.useRouter)(),g=(0,n.useRef)(),C=(0,n.useRef)(),S=(0,n.useRef)(null),[A,z]=(0,n.useState)([]),[_,E]=(0,n.useState)(!1),[F,P]=(0,n.useState)({longitude:parseFloat(t),latitude:parseFloat(s)}),[R,L]=(0,n.useState)(!1),[I,M]=(0,n.useState)(!1),[O,T]=(0,n.useState)(""),[W,$]=(0,n.useState)(""),[V,B]=(0,n.useState)(null),[H,D]=(0,n.useState)(!1),[J,Z]=(0,n.useState)(""),U={longitude:t,latitude:s,zoom:w.Zg};(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch(w.JR+"/organisations/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({position:{longitude:t,latitude:s}})}),a=await e.json();z(a.features),console.log(a.features)}catch(e){console.error("Fetch failed:",e)}})()},[t,s]),(0,n.useEffect)(()=>{if(!H)return;let e=setInterval(()=>{window.grecaptcha&&document.getElementById("recaptcha-container")&&(window.grecaptcha.render("recaptcha-container",{sitekey:"6LeUBUorAAAAALVb33FcU4fosGGojnMWD0LcXAE3"}),clearInterval(e))},300);return()=>clearInterval(e)},[H]);let G=()=>{Z(""),T("")},Y=async()=>{let e={position:F,initialposition:{longitude:null,latitude:null,type:"direct"}};O&&""!==O&&(e.email=O);let t=await fetch(w.JR+"/api/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!(await t.json()).success){Z("CAPTCHA verification failed. Please try again.");return}G();let s="/".concat(F.longitude.toFixed(5),"/").concat(F.latitude.toFixed(5),"/vote");var a={type:"votesubmitted"};""!==O&&(a.emailused="true"),Object.keys(a).length&&(s+="?"+N.stringify(a)),f.push(s)},X=async()=>{let e=window.grecaptcha.getResponse();if(!e){Z("Please confirm you're not a robot:");return}let t=await fetch(w.JR+"/api/setcookie",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e}),credentials:"include"});if(!(await t.json()).success){Z("CAPTCHA verification failed. Please try again.");return}Z(""),D(!1),Y()},q=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),K=async()=>{try{let e=await fetch(w.JR+"/api/hascookie",{credentials:"include"});return(await e.json()).valid}catch(e){return console.error("Consent check failed",e),!1}},Q=async()=>{if(O)q(O)?Y():$("Please enter a valid email address - or delete your input to use no email address.");else if(await K())Y();else{Z(""),D(!0);return}};return(0,a.jsxs)("main",{ref:S,className:"pt-20 sm:pt-20 h-screen overflow-y-auto bg-cover bg-center",style:{backgroundImage:"url('".concat(k,"/images/sunrise-3579931_1920.jpg')")},children:[(0,a.jsx)(j,{targetRef:S}),(0,a.jsxs)("section",{className:"flex flex-col items-center px-3",children:[("votesubmitted"===i||"voteconfirmed"===i)&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"w-full max-w-[800px] mx-auto rounded-2xl mb-2 bg-white/70 p-4 sm:p-6 text-sm sm:text-medium",children:[(0,a.jsx)("img",{src:"".concat(k,"/icons/check-mark.svg"),alt:"Vote",className:"float-left w-20 h-20 sm:w-[150px] sm:h-[150px] mr-2 sm:mr-6 mb-0"}),(0,a.jsx)("h1",{className:"text-2xl sm:text-4xl font-extrabold text-left mb-4",children:"Congratulations!"}),(0,a.jsxs)("h2",{className:"text-medium sm:text-xl font-semibold text-left mb-4",children:["votesubmitted"==i&&(0,a.jsx)(a.Fragment,{children:"Your vote has been received"}),"voteconfirmed"==i&&(0,a.jsx)(a.Fragment,{children:"Your vote has been confirmed"})]}),null===u&&(0,a.jsxs)("p",{className:"font-light mb-2",children:["Your turbine position vote will now be included on the ",(0,a.jsx)("a",{className:"font-medium hover:text-blue-600",target:"_new",href:"/map",children:"VoteWind.org Voting Map"}),"."]}),null!==u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"font-light mb-2",children:["You'll receive an email shortly so you can confirm your vote. Click on the link in the email and your vote will appear on the ",(0,a.jsx)("a",{className:"font-medium hover:text-blue-600",target:"_new",href:"/map",children:"VoteWind.org Voting Map"}),"."]}),(0,a.jsxs)("p",{className:"font-light mb-2",children:["If you don't receive an email in the next few minutes, check your spam folder or drop us an email at ",(0,a.jsx)("a",{className:"font-medium hover:text-blue-600",href:"mailto:voting@votewind.org",children:"voting@votewind.org"}),"."]}),(0,a.jsxs)("p",{className:"font-light mb-2",children:["Note: ",(0,a.jsx)("i",{children:"your email address will not be visible on the map"}),". We'll never publish your email address and will only contact you about community wind related events and resources."]})]}),(0,a.jsx)("p",{className:"font-light mb-0",children:"Details about the turbine position you voted for are provided below:"}),(0,a.jsx)("div",{className:"clear-left"})]})}),(0,a.jsx)(x,{className:"relative w-full max-w-[800px] mx-auto rounded-2xl mt-0",children:(0,a.jsxs)(h,{className:"flex flex-col sm:flex-row items-center sm:items-start gap-8 pt-6 pb-6 shadow-md shadow-[0_35px_60px_-15px_rgba(0,0,0,0.4)] rounded-lg",children:[(0,a.jsx)("div",{className:"w-[300px] h-[300px] sm:w-[350px] sm:h-[350px] border-[4px] border-black overflow-hidden",children:(0,a.jsxs)("div",{id:"map",className:"w-full h-full",children:[(0,a.jsx)("div",{className:"absolute left-8 sm:left-8 top-8 z-40",children:(0,a.jsxs)("div",{className:"bg-gray-100 rounded-md shadow p-1 flex flex-col items-center gap-1",children:[(0,a.jsx)("button",{type:"button",onClick:e=>{var t,s;let a=null===(s=g.current)||void 0===s?void 0:null===(t=s.getMap)||void 0===t?void 0:t.call(s);a&&a.zoomIn()},className:"w-6 h-6 bg-white rounded active:bg-white focus:outline-none focus:ring-0",children:"➕"}),(0,a.jsx)("button",{type:"button",onClick:()=>{var e,t;let s=null===(t=g.current)||void 0===t?void 0:null===(e=t.getMap)||void 0===e?void 0:e.call(t);s&&s.zoomOut()},className:"w-6 h-6 bg-white rounded",children:"➖"})]})}),(0,a.jsxs)(c.Ay,{ref:g,mapLib:o(),dragPan:!1,dragRotate:!1,scrollZoom:!1,doubleClickZoom:!0,boxZoom:!1,keyboard:!1,touchZoomRotate:!1,interactive:!1,touchRotate:!1,pitchWithRotate:!1,initialViewState:U,style:{width:"100%",height:"100%"},padding:{top:80,bottom:0,left:0,right:0},mapStyle:w.tX,attributionControl:!1,children:[(0,a.jsx)(c.z0,{compact:!0,position:"bottom-right"}),(0,a.jsx)(c.pH,{longitude:U.longitude,latitude:U.latitude,draggable:!1,anchor:"bottom",offset:[0,0],children:(0,a.jsx)("img",{ref:C,className:"".concat(I?"bounce":""),alt:"Wind turbine",width:"80",height:"80",src:"".concat(k,"/icons/windturbine_blue.png")})})]})]})}),(0,a.jsxs)("div",{className:"flex flex-col justify-between self-stretch text-center sm:text-left",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl sm:text-4xl font-bold leading-snug mt-0 mb-1",children:[null===i?(0,a.jsx)("span",{children:"Vote for Turbine"}):(0,a.jsx)("span",{children:"Turbine Position"}),(0,a.jsx)(m.Bc,{children:(0,a.jsxs)(m.m_,{children:[(0,a.jsx)(m.k$,{asChild:!0,children:(0,a.jsx)("button",{type:"button",className:"inline-flex ml-4 -translate-y-[2px] relative items-center justify-center sm:bottom-0 h-8 w-8 sm:h-10 sm:w-10 px-1 py-1 bg-blue-600 text-white sm:text-sm rounded-full shadow-lg",children:(0,a.jsx)(d.A,{onClick:()=>L(!0),className:"w-5 h-5 sm:w-6 sm:h-6 fill-current text-white"})})}),(0,a.jsx)(m.ZI,{side:"right",sideOffset:10,className:"bg-white text-black text-xs border shadow px-3 py-1 rounded-md hidden sm:block",children:"3D view of turbine"})]})})]}),(0,a.jsxs)("h2",{className:"text-2xl font-light leading-snug",children:[F.latitude.toFixed(5),"\xb0 N, ",F.longitude.toFixed(5),"\xb0 E"]}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Planning constraints"})]}),null===i&&(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),Q()},children:(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"mt-1",children:[(0,a.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Optional: Enter email to confirm vote",autoCorrect:"off",autoCapitalize:"none",autoComplete:"off",spellCheck:"false",value:O,onChange:e=>T(e.target.value),className:"w-full sm:w-[400px] px-3 py-1 border border-gray-300 rounded text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,a.jsx)("div",{className:"w-full sm:w-[400px] text-[9px] leading-tight sm:text-xs text-gray-800 mt-1",dangerouslySetInnerHTML:{__html:w.dL}})]}),(0,a.jsxs)(p.$,{type:"submit",variant:"default",size:"lg",className:"flex-1 w-full text-lg mt-4 bg-blue-600 text-white px-4 py-6 rounded-lg hover:bg-blue-700 gap-2",children:[(0,a.jsx)(r.default,{src:"/icons/check-mark-blue.svg",alt:"",width:30,height:30,className:"inline-block bg-blue-600 w-4 h-4"}),"Cast vote!"]}),(0,a.jsxs)("p",{className:"mt-1 font-light text-sm text-gray-600 mt-4",children:["Don't want to vote for this site? ",(0,a.jsx)("a",{className:"font-bold text-blue-800",href:"/",children:"Choose your own site!"})]})]})}),("votesubmitted"===i||"voteconfirmed"===i)&&(0,a.jsx)("div",{className:"mt-4 sm:mt-0",children:(0,a.jsx)(b,{title:"I just voted for a community wind turbine location!"})})]})]})}),("votesubmitted"===i||"voteconfirmed"===i)&&(0,a.jsxs)("div",{className:"max-w-[800px] md:w-[800px] mx-auto mb-4 bg-white/80 p-5 p-4 sm:p-6 text-sm sm:text-medium mt-4 rounded-2xl mb-40",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-left mb-8",children:"Next steps..."}),(0,a.jsxs)("div",{className:"grid grid-cols-[auto_1fr] gap-x-0",children:[(0,a.jsx)("div",{children:(0,a.jsx)(y,{content:"1"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Share vote on social media"}),(0,a.jsx)("p",{className:"font-light mb-2",children:"Share your vote with others via social media — the more public support there is for a turbine location, the more likely it will receive planning permission."}),(0,a.jsx)("p",{className:"font-bold mb-4",children:"Can your turbine position get enough votes to get elected?"}),(0,a.jsx)("div",{className:"hidden sm:block",children:(0,a.jsx)(b,{title:"I just voted for a community wind turbine location!",showstrap:!1})})]})]}),(0,a.jsx)("div",{className:"sm:hidden",children:(0,a.jsx)(b,{title:"I just voted for a community wind turbine location!",showstrap:!1})}),(0,a.jsxs)("div",{className:"grid grid-cols-[auto_1fr] gap-x-0 mt-8",children:[(0,a.jsx)("div",{children:(0,a.jsx)(y,{content:"2"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Join local community energy group"}),(0,a.jsx)("p",{className:"font-light mb-2",children:"Community energy groups rely on motivated volunteers to make projects happen - and are positive fun places too! Reach out to your local community energy group and help make a community wind project happen in your area."}),(0,a.jsx)("p",{className:"font-light mb-4",children:"The following community energy groups are close to the turbine you voted for:"}),(0,a.jsx)("div",{className:"hidden sm:block space-y-4",children:A.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-white shadow",children:[""!==e.properties.url?(0,a.jsx)("a",{href:e.properties.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline text-sm",children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.properties.name})}):(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.properties.name}),(0,a.jsxs)("p",{className:"text-xs",children:["Distance: ",e.properties.distance.toFixed(1)," km"]})]},e.id))})]})]}),(0,a.jsx)("div",{className:"sm:hidden space-y-4",children:A.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-white shadow",children:[""!==e.properties.url?(0,a.jsx)("a",{href:e.properties.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline text-sm",children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.properties.name})}):(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.properties.name}),(0,a.jsxs)("p",{className:"text-xs",children:["Distance: ",e.properties.distance.toFixed(1)," km"]})]},e.id))}),(0,a.jsxs)("div",{className:"grid grid-cols-[auto_1fr] gap-x-0 mt-6",children:[(0,a.jsx)("div",{children:(0,a.jsx)(y,{content:"3"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Start a community energy group"}),(0,a.jsx)("p",{className:"font-light mb-2",children:"If there are no community energy groups near you, use our simple guide below to get started creating your own community energy group. It's super easy and is an ideal way of building an effective team of people to make community wind projects happen."}),(0,a.jsx)("p",{className:"font-bold mb-2",children:"Warning: you may make friends for life!"}),(0,a.jsx)("a",{className:"hidden sm:block",href:"https://openwind.energy",children:(0,a.jsx)(p.$,{className:"text-md mt-[0.7rem] left-0 bg-blue-600 text-white sm:text-md px-4 py-2 rounded-md hover:bg-blue-700 z-40 inline-flex items-center justify-center gap-2",children:"Guide to creating community energy group"})})]})]}),(0,a.jsx)("a",{className:"sm:hidden",href:"https://openwind.energy",children:(0,a.jsx)(p.$,{className:"w-full sm:w-auto text-xs mt-[0.7rem] left-0 bg-blue-600 text-white sm:text-md px-4 py-2 rounded-md hover:bg-blue-700 z-40 gap-2",children:"Guide to creating community energy group"})}),(0,a.jsx)("div",{className:"clear-left"})]})]}),W&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[1000]"}),(0,a.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[9999] w-[90%] max-w-md",children:(0,a.jsxs)("div",{className:"rounded-md border border-gray-300 bg-white px-5 py-4 text-base text-gray-800 shadow-xl text-center",children:[(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("strong",{className:"font-bold block",children:"Invalid email"})}),(0,a.jsx)("div",{className:"mb-3 text-sm",children:W}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("button",{onClick:()=>$(""),className:"bg-gray-200 text-gray-800 text-sm px-4 py-2 rounded hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400",children:"Close"})})]})})]}),H&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[1000]"}),(0,a.jsx)("div",{className:"fixed inset-0 z-[1001] flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white border border-gray-300 shadow-lg rounded-lg p-6 max-w-sm w-full mx-4",children:[(0,a.jsx)("div",{className:"mb-3 text-center",children:(0,a.jsx)("strong",{className:"font-bold block",children:"Set cookie"})}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:"We'd like to store a cookie to track who you are and prevent fraudulent voting. Is that okay?"}),(0,a.jsx)("div",{className:"w-full flex justify-start mt-4",children:J&&(0,a.jsx)("p",{className:"text-red-600 text-sm font-medium mb-2",children:J})}),(0,a.jsx)("div",{className:"w-full flex justify-start mt-0",children:(0,a.jsx)("div",{id:"recaptcha-container",className:"recaptcha-wrapper"})}),(0,a.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>D(!1),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Decline"}),(0,a.jsx)("button",{onClick:X,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Accept"})]})]})})]}),_&&(0,a.jsx)("div",{className:"fixed bottom-0 left-0 w-full h-1/3 overflow-y-auto bg-white shadow-lg border-t z-50 flex flex-col justify-between px-2 pt-1 pb-2 sm:px-10 sm:pt-0 sm:pb-6",children:(0,a.jsxs)("div",{className:"max-w-screen-xl mx-auto h-full flex flex-col justify-between px-0 sm:px-4 py-1",children:[(0,a.jsx)("button",{onClick:closeVotingPanel,className:"absolute top-1 right-4 text-gray-500 hover:text-gray-700 text-2xl leading-none","aria-label":"Close vote panel",children:"\xd7"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),Q()},children:[(0,a.jsxs)("div",{className:"flex mt-1",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-20 h-20 sm:w-60 sm:h-60",children:(0,a.jsx)("img",{alt:"Vote",src:"/icons/check-mark.svg",className:"block"})}),(0,a.jsxs)("div",{className:"ml-4 flex flex-col justify-start mt-0 sm:mt-4",children:[(0,a.jsx)("h2",{className:"text-xl sm:text-[24px] font-semibold mb-0",children:"Cast turbine vote"}),(0,a.jsxs)("p",{className:"text-xs text-gray-700 mt-2 sm:mt-4",children:[(0,a.jsx)("b",{children:"Position: "}),F.latitude.toFixed(5),"\xb0 N, ",F.longitude.toFixed(5),"\xb0 E"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 sm:mb-8",children:[(0,a.jsx)("b",{children:"Planning constraints: "}),"Footpaths (120m turbine)"]}),(0,a.jsxs)("div",{className:"mt-1 hidden sm:block",children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email confirmation:"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Optional: Enter email address to confirm vote",autoCorrect:"off",autoCapitalize:"none",autoComplete:"off",spellCheck:"false",value:O,onChange:e=>T(e.target.value),className:"w-full max-w-[400px] px-3 py-2 border border-gray-300 rounded text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,a.jsx)("div",{className:"w-full max-w-[600px] text-[9px] leading-tight sm:text-xs text-gray-800 mt-2 mb-2",dangerouslySetInnerHTML:{__html:email_explanation}})]})]})]}),(0,a.jsxs)("div",{className:"mt-1 sm:hidden",children:[(0,a.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Optional: Enter email to confirm vote",autoCorrect:"off",autoCapitalize:"none",autoComplete:"off",spellCheck:"false",value:O,onChange:e=>T(e.target.value),className:"w-full sm:w-[400px] px-3 py-1 border border-gray-300 rounded text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,a.jsx)("div",{className:"w-full sm:w-[400px] text-[9px] leading-tight sm:text-xs text-gray-800 mt-1",dangerouslySetInnerHTML:{__html:email_explanation}})]}),(0,a.jsxs)("div",{className:"mt-2 flex justify-end gap-3",children:[(0,a.jsx)("button",{type:"button",onClick:closeVotingPanel,className:"flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Cast your vote!"})]})]})]})}),(0,a.jsx)(v.A,{longitude:F.longitude,latitude:F.latitude,isOpen:R,onClose:()=>L(!1)})]})}var S=s(23772);function A(e){let{longitude:t=null,latitude:s=null}=e,r=(0,l.useSearchParams)(),i=(0,n.useMemo)(()=>r.get("type")||null,[r]),o=(0,n.useMemo)(()=>r.get("emailused")||null,[r]);return(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{longitude:t,latitude:s,type:i,emailused:o}),(0,a.jsx)(S.A,{})]})}},29384:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(95155),l=s(76046),n=s(12115),r=s(32957);function i(e){let{longitude:t=null,latitude:s=null,zoom:i=null}=e,o=(0,l.useSearchParams)(),c=(0,n.useMemo)(()=>{let e=o.get("bounds");if(!e)return null;let t=e.split(",").map(Number);return 4!==t.length||t.some(isNaN)?null:[[t[0],t[1]],[t[2],t[3]]]},[o]),d=(0,n.useMemo)(()=>o.get("type")||"",[o]),m=(0,n.useMemo)(()=>!!o.get("selectturbine")||"",[o]);return(0,a.jsx)("div",{children:(0,a.jsx)(r.A,{longitude:t,latitude:s,zoom:i,bounds:c,type:d,turbineAtCentre:m})})}},23772:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(95155),l=s(42204);s(42128);let n="/static-frontend";function r(){return(0,a.jsxs)("div",{className:"fixed bottom-0 w-full bg-white py-0 sm:py-2 h-[110px] sm:h-[130px] pointer-events-none",children:[(0,a.jsxs)(l.A,{width:"200px",duration:80,blurBorders:!0,blurBorderColor:"#fff",children:[(0,a.jsx)(l.A.Slide,{className:"mr-4",children:(0,a.jsx)("a",{className:"pointer-events-auto",target:"_partner",href:"https://ashden.org/energy-learning-network/",children:(0,a.jsx)("img",{src:n+"/logos/partner-ashden.png",alt:"Ashden",className:"h-10"})})}),(0,a.jsx)(l.A.Slide,{children:(0,a.jsx)("a",{className:"pointer-events-auto",target:"_partner",href:"https://communityenergyengland.org/pages/energy-learning-network/",children:(0,a.jsx)("img",{src:n+"/logos/partner-cee.png",alt:"Community Energy England",className:"h-20"})})}),(0,a.jsx)(l.A.Slide,{className:"mr-10",children:(0,a.jsx)("a",{className:"pointer-events-auto",target:"_partner",href:"https://communityenergyscotland.org.uk/projects/energy-learning-network/",children:(0,a.jsx)("img",{src:n+"/logos/partner-ces.png",alt:"Community Energy Scotland"})})}),(0,a.jsx)(l.A.Slide,{className:"mr-10",children:(0,a.jsx)("a",{className:"pointer-events-auto",target:"_partner",href:"https://communityenergy.wales/energy-learning-network",children:(0,a.jsx)("img",{src:n+"/logos/partner-cew.png",alt:"Community Energy Wales",className:"h-12"})})}),(0,a.jsx)(l.A.Slide,{className:"mr-14",children:(0,a.jsx)("a",{className:"pointer-events-auto",target:"_partner",href:"https://actionrenewables.co.uk/energy-learning-network/",children:(0,a.jsx)("img",{src:n+"/logos/partner-actionrenewables.png",alt:"Action Renewables",className:"h-14"})})}),(0,a.jsx)(l.A.Slide,{className:"mr-0",children:(0,a.jsx)("a",{className:"pointer-events-auto",target:"_partner",href:"https://www.cse.org.uk/my-community/community-projects/energy-learning-network/",children:(0,a.jsx)("img",{src:n+"/logos/partner-cse.png",alt:"Centre for Sustainable Energy",className:"h-14"})})})]}),(0,a.jsxs)("div",{className:"text-[14px] hidden sm:block text-center w-full z-50 font-light pt-2 pb-2",children:["An ",(0,a.jsx)("a",{className:"font-bold",target:"_partner",href:"https://ashden.org/energy-learning-network/",children:"Energy Learning Network"})," project in partnership with ",(0,a.jsx)("a",{className:"font-bold",target:"_partner",href:"https://openwind.energy",children:"Open Wind Energy"})]}),(0,a.jsxs)("div",{className:"fixed bottom-0 text-[9px] sm:hidden text-center w-full z-50 font-light pt-3 pb-2",children:["An ",(0,a.jsx)("a",{className:"font-bold",target:"_partner",href:"https://ashden.org/energy-learning-network/",children:"Energy Learning Network"})," project in partnership with ",(0,a.jsx)("a",{className:"font-bold",target:"_partner",href:"https://openwind.energy",children:"Open Wind Energy"})]})]})}}}]);